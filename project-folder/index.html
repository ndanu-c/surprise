<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Purple Wonderland Hub</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat&display=swap');

  /* Reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    background: linear-gradient(135deg, #a17fe0, #6c42a4);
    font-family: 'Montserrat', sans-serif;
    color: #eee;
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
  }

  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 3rem;
    background: rgba(100, 42, 140, 0.7);
    position: sticky;
    top: 0;
    z-index: 100;
  }

  header h1 {
    font-family: 'Great Vibes', cursive;
    font-size: 2.4rem;
    color: #d6b3ff;
    user-select: none;
  }

  nav a {
    color: #d6b3ff;
    margin-left: 2rem;
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s;
  }

  nav a:hover {
    color: #f3e8ff;
  }

  main {
    padding: 2rem 3rem;
    max-width: 900px;
    margin: auto;
  }

  /* Hero */
  .hero {
    text-align: center;
    padding: 3rem 1rem 5rem;
    position: relative;
    user-select: none;
  }

  .hero h2 {
    font-family: 'Great Vibes', cursive;
    font-size: 3.5rem;
    color: #f0e6ff;
    text-shadow: 0 0 10px #bb88ff;
    margin-bottom: 1rem;
  }

  .hero p {
    font-size: 1.2rem;
    color: #e6d7ff;
    margin-bottom: 2rem;
  }

  .btn-primary {
    background: #b287ff;
    color: #fff;
    padding: 0.8rem 2rem;
    font-size: 1.1rem;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 0 8px #9a5fff;
    transition: background 0.3s;
  }

  .btn-primary:hover {
    background: #d3b3ff;
    color: #5b2b8a;
  }

  /* Sparkles animation */
  .sparkle {
    position: absolute;
    background: #d6b3ff;
    border-radius: 50%;
    opacity: 0.8;
    animation: sparkleMove 6s linear infinite;
  }

  @keyframes sparkleMove {
    0% {
      transform: translateY(0) scale(1);
      opacity: 0.8;
    }
    50% {
      opacity: 0.3;
      scale: 1.5;
    }
    100% {
      transform: translateY(-100vh) scale(0.5);
      opacity: 0;
    }
  }

  /* Sections */
  section {
    margin-bottom: 5rem;
  }

  section h3 {
    font-family: 'Great Vibes', cursive;
    font-size: 2.4rem;
    margin-bottom: 1.2rem;
    text-align: center;
    color: #d6b3ff;
    text-shadow: 0 0 6px #b287ff;
  }

  /* Gallery */
  .gallery {
    display: flex;
    overflow-x: auto;
    gap: 1rem;
    padding-bottom: 1rem;
    scroll-behavior: smooth;
  }

  .gallery img {
    width: 250px;
    height: 160px;
    border-radius: 15px;
    object-fit: cover;
    box-shadow: 0 0 10px #a176ff;
    transition: transform 0.3s, box-shadow 0.3s;
    cursor: pointer;
  }

  .gallery img:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px #d8b8ff;
  }

  /* Audio player */
  #playlist audio {
    width: 100%;
    border-radius: 12px;
    box-shadow: 0 0 15px #b287ff;
    outline: none;
  }

  /* Puzzle */
  #puzzle-container {
    max-width: 500px;
    margin: auto;
  }

  #puzzleCanvas {
    border-radius: 15px;
    box-shadow: 0 0 15px #b287ff;
    cursor: pointer;
    display: block;
    margin: 0 auto;
  }

  #puzzleMessage {
    text-align: center;
    color: #d6b3ff;
    font-weight: 600;
    margin-top: 10px;
  }

  #shuffleBtn {
    background: #b287ff;
    color: #fff;
    border: none;
    border-radius: 25px;
    padding: 0.6rem 1.5rem;
    cursor: pointer;
    margin-top: 15px;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }

  #shuffleBtn:hover {
    background: #d3b3ff;
    color: #5b2b8a;
  }

  /* Explanation paragraph for puzzle */
  #puzzle-explanation {
    text-align: center;
    max-width: 500px;
    margin: 0 auto 1rem auto;
    color: #d6b3ff;
    font-style: italic;
  }

  /* Messages */
  .messages-container {
    max-width: 600px;
    margin: 0 auto;
  }

  .messages-list {
    min-height: 150px;
    background: rgba(100, 42, 140, 0.4);
    border-radius: 15px;
    padding: 1rem;
    overflow-y: auto;
    max-height: 300px;
  }

  .message {
    background: #c4a6ff66;
    margin-bottom: 10px;
    padding: 10px 15px;
    border-radius: 20px;
    color: #290044;
    font-weight: 600;
    position: relative;
    animation: floatUp 5s ease forwards;
  }

  @keyframes floatUp {
    0% {
      opacity: 1;
      transform: translateY(0);
    }
    100% {
      opacity: 0;
      transform: translateY(-40px);
    }
  }

  form {
    display: flex;
    margin-top: 1rem;
  }

  input[type="text"] {
    flex: 1;
    padding: 0.6rem 1rem;
    border-radius: 30px 0 0 30px;
    border: none;
    font-size: 1rem;
  }

  button[type="submit"] {
    background: #b287ff;
    color: #fff;
    border: none;
    padding: 0 1.5rem;
    font-size: 1rem;
    border-radius: 0 30px 30px 0;
    cursor: pointer;
    box-shadow: 0 0 8px #9a5fff;
    transition: background 0.3s;
  }

  button[type="submit"]:hover {
    background: #d3b3ff;
    color: #5b2b8a;
  }

  /* Video section */
  .video-container {
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
  }

  .video-container video {
    width: 100%;
    border-radius: 20px;
    box-shadow: 0 0 15px #b287ff;
  }

  /* Footer */
  footer {
    text-align: center;
    padding: 1rem;
    background: rgba(100, 42, 140, 0.6);
    color: #d6b3ff;
    font-style: italic;
    user-select: none;
  }

  /* Responsive fixes - minimal and only added here */
  @media (max-width: 600px) {
    header {
      flex-direction: column;
      gap: 1rem;
      padding: 1rem 1.5rem;
    }

    nav a {
      margin-left: 0;
      margin-right: 1rem;
      font-size: 1rem;
    }

    main {
      padding: 1rem 1rem;
      max-width: 100%;
    }

    .hero h2 {
      font-size: 2.2rem;
      padding: 0 1rem;
    }

    .hero p {
      font-size: 1rem;
      padding: 0 1rem;
    }

    .gallery {
      justify-content: center;
      padding: 0 0.5rem;
    }

    .gallery img {
      width: 150px;
      height: 100px;
    }

    #puzzleCanvas {
      width: 100% !important;
      height: auto !important;
      max-width: 400px;
    }

    #puzzle-container {
      max-width: 100%;
      padding: 0 1rem;
    }

    .video-container {
      padding: 0 1rem;
    }

    #playlist audio {
      width: 100%;
    }

    form {
      flex-direction: column;
      gap: 0.5rem;
    }

    input[type="text"] {
      border-radius: 30px;
      flex: unset;
      width: 100%;
    }

    button[type="submit"] {
      border-radius: 30px;
      width: 100%;
    }
  }
</style>
</head>
<body>

<header>
  <h1>ü¶ã Welcome my loves,....</h1>
  <nav>
    <a href="#gallery">Gallery</a>
    <a href="#playlist">Playlist</a>
    <a href="#puzzle">Games</a>
    <a href="#video">Video</a>
    <a href="#messages">Messages</a>
  </nav>
</header>

<main>
  <section class="hero" id="hero">
    <h2>Welcome to Kendi‚Äôs Purple Wonderland!</h2>
    <p>Step inside and explore all the purple magic waiting for you.</p>
    <button class="btn-primary" onclick="document.getElementById('gallery').scrollIntoView({behavior: 'smooth'})">Start Your Journey</button>

    <!-- Sparkles -->
    <div id="sparkles-container"></div>
  </section>

  <section id="gallery">
    <h3>Let these photos remind of how beautiful you are</h3>
    <div class="gallery" aria-label="Photo gallery">
      <img src="media/photo1.jpeg" alt="Purple photo 1" />
      <img src="media/photo2.jpeg" alt="Purple photo 2" />
      <img src="media/photo3.jpeg" alt="Purple photo 3" />
      <img src="media/photo4.jpeg" alt="Purple photo 4" />
      <img src="media/photo5.jpeg" alt="Purple photo 5" />
      <img src="media/photo6.jpeg" alt="Purple photo 6" />
      <img src="media/photo7.jpeg" alt="Purple photo 7" />
      <img src="media/photo8.jpeg" alt="Purple photo 8" />
      <img src="media/photo9.jpeg" alt="Purple photo 9" />
      <img src="media/photo10.jpeg" alt="Purple photo 10" />
    </div>
  </section>

  <section id="playlist">
    <h3>Here's my song dedication</h3>
    <audio controls aria-label="Audio player for When it Comes To You">
      <source src="media/song.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>
  </section>

  <section id="puzzle">
    <h3>Relax your mind with this simple puzzle</h3>
    <p id="puzzle-explanation">
      Click on two puzzle pieces to swap them and complete the image. Press ‚ÄúShuffle Puzzle‚Äù to start a new challenge!
    </p>
    <div id="puzzle-container">
      <canvas id="puzzleCanvas" width="500" height="375" aria-label="Puzzle game canvas" tabindex="0"></canvas>
      <button id="shuffleBtn" aria-label="Shuffle Puzzle Button">Shuffle Puzzle</button>
      <p id="puzzleMessage" aria-live="polite"></p>
    </div>
  </section>

  <section id="video" class="video-container">
    <h3>A special birthday video I did for you</h3>
    <video controls aria-label="Purple Wonderland video" width="600" height="338" preload="metadata">
      <source src="media/birthday.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
  </section>

  <section id="messages" class="messages-container" aria-live="polite" aria-relevant="additions">
    <h3>Send in your birthday wishes</h3>
    <div class="messages-list" id="messagesList" role="log" aria-live="polite" aria-atomic="false"></div>
    <form id="messageForm" aria-label="Message submission form">
      <input type="text" id="messageInput" placeholder="Write your message here..." aria-required="true" />
      <button type="submit" aria-label="Send message">Send</button>
    </form>
  </section>
</main>

<footer>
  Made with ‚ù§Ô∏è in the Purple Wonderland Hub
</footer>

<script>
  // Sparkles animation logic
  const sparklesContainer = document.getElementById('sparkles-container');

  function createSparkle() {
    const sparkle = document.createElement('div');
    sparkle.classList.add('sparkle');
    sparkle.style.width = sparkle.style.height = Math.random() * 8 + 6 + 'px';
    sparkle.style.left = Math.random() * window.innerWidth + 'px';
    sparkle.style.top = window.innerHeight + 'px';
    sparkle.style.animationDuration = 3 + Math.random() * 3 + 's';
    sparklesContainer.appendChild(sparkle);

    setTimeout(() => {
      sparkle.remove();
    }, 6000);
  }

  setInterval(createSparkle, 300);

  // Puzzle Game Logic
  const canvas = document.getElementById('puzzleCanvas');
  const ctx = canvas.getContext('2d');
  const puzzleRows = 3;
  const puzzleCols = 4;
  let pieceWidth = canvas.width / puzzleCols;
  let pieceHeight = canvas.height / puzzleRows;
  let pieces = [];
  let shuffledPieces = [];
  let selectedPieceIndex = null;
  let puzzleImage = new Image();
  puzzleImage.src = 'media/puzzle.jpg';

  puzzleImage.onload = () => {
    initPuzzle();
    drawPuzzle();
  };

  function initPuzzle() {
    pieces = [];
    for (let row = 0; row < puzzleRows; row++) {
      for (let col = 0; col < puzzleCols; col++) {
        pieces.push({
          sx: col * pieceWidth,
          sy: row * pieceHeight,
          x: col * pieceWidth,
          y: row * pieceHeight,
          correctIndex: row * puzzleCols + col,
          currentIndex: row * puzzleCols + col,
        });
      }
    }
    shuffledPieces = [...pieces];
  }

  function drawPuzzle() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let i = 0; i < shuffledPieces.length; i++) {
      let p = shuffledPieces[i];
      ctx.drawImage(
        puzzleImage,
        p.sx,
        p.sy,
        pieceWidth,
        pieceHeight,
        p.x,
        p.y,
        pieceWidth,
        pieceHeight
      );
      ctx.strokeStyle = '#6a2b99';
      ctx.lineWidth = 2;
      ctx.strokeRect(p.x, p.y, pieceWidth, pieceHeight);
      if (selectedPieceIndex === i) {
        ctx.strokeStyle = '#ff8eff';
        ctx.lineWidth = 4;
        ctx.strokeRect(p.x + 2, p.y + 2, pieceWidth - 4, pieceHeight - 4);
      }
    }
  }

  function swapPieces(index1, index2) {
    let temp = shuffledPieces[index1];
    shuffledPieces[index1] = shuffledPieces[index2];
    shuffledPieces[index2] = temp;
  }

  function checkPuzzleSolved() {
    for (let i = 0; i < shuffledPieces.length; i++) {
      if (shuffledPieces[i].correctIndex !== i) {
        return false;
      }
    }
    return true;
  }

  canvas.addEventListener('click', (e) => {
    const rect = canvas.getBoundingClientRect();
    const clickX = e.clientX - rect.left;
    const clickY = e.clientY - rect.top;

    let clickedIndex = Math.floor(clickY / pieceHeight) * puzzleCols + Math.floor(clickX / pieceWidth);

    if (selectedPieceIndex === null) {
      selectedPieceIndex = clickedIndex;
    } else if (selectedPieceIndex === clickedIndex) {
      selectedPieceIndex = null;
    } else {
      swapPieces(selectedPieceIndex, clickedIndex);
      selectedPieceIndex = null;
      if (checkPuzzleSolved()) {
        document.getElementById('puzzleMessage').textContent = "You solved the puzzle! üéâ";
      } else {
        document.getElementById('puzzleMessage').textContent = "";
      }
    }
    drawPuzzle();
  });

  document.getElementById('shuffleBtn').addEventListener('click', () => {
    for (let i = shuffledPieces.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffledPieces[i], shuffledPieces[j]] = [shuffledPieces[j], shuffledPieces[i]];
    }
    selectedPieceIndex = null;
    document.getElementById('puzzleMessage').textContent = "";
    drawPuzzle();
  });

  // Messages form logic
  const messagesList = document.getElementById('messagesList');
  const messageForm = document.getElementById('messageForm');
  const messageInput = document.getElementById('messageInput');

  messageForm.addEventListener('submit', (e) => {
    e.preventDefault();
    let messageText = messageInput.value.trim();
    if (messageText) {
      const message = document.createElement('div');
      message.className = 'message';
      message.textContent = messageText;
      messagesList.appendChild(message);
      messagesList.scrollTop = messagesList.scrollHeight;
      messageInput.value = '';

      // Remove message after animation ends (5 seconds)
      setTimeout(() => {
        message.remove();
      }, 5000);
    }
  });
</script>

</body>
</html>
